<mat-card>
  <mat-card-header>
    <mat-card-title-group>
      <mat-card-title>
        {{item.title}}
      </mat-card-title>
      <mat-card-subtitle>Wysłano {{item.sentDate.toFormat("cccc dd LLLL yyyyr. 'o' HH:mm")}}</mat-card-subtitle>
    </mat-card-title-group>
  </mat-card-header>
  <mat-card-content>
    @if (item.message) {
      <p>
        {{item.message}}
      </p>
    }
    <hr>
    @if (item.rcpts) {
      <span>Odbiorcy:</span>
      <ul>
        @for (user of item.rcpts; track $index) {
          <li>
            @if (user.room) {
              <span>{{user.room}}: </span>
              }{{user.fname}} {{user.surname}} <span
            style="color: gray">({{user.uname}})</span>
          </li>
        }
      </ul>
    }
    </mat-card-content>
    <mat-card-footer>
      <mat-card-actions>
        @if (!item.message) {
          <button mat-stroked-button (click)="getMessage()">Wczytaj treść</button>
        }
        @if (!item.rcpts) {
          <button mat-stroked-button (click)="getRcpts()">Wczytaj odbiorców</button>
        }
      </mat-card-actions>
    </mat-card-footer>
  </mat-card>
