<mat-card>
    <mat-card-header>
        <mat-card-title-group>
            <mat-card-title>
                {{item.title}}
            </mat-card-title>
            <mat-card-subtitle>{{item.sentDate.format('[Wysłano] dddd DD MMMM YYYYr. o HH:mm')}}</mat-card-subtitle>
        </mat-card-title-group>
    </mat-card-header>
    <mat-card-content>
        <p *ngIf="body">
            {{body}}
        </p>
        <hr>
        <ul>
            @for (user of rcpts; track $index) {
            <li>
                <span *ngIf="user.room">{{user.room}}: </span>{{user.fname}} {{user.surname}} <span
                    style="color: gray">({{user.uname}})</span>
            </li>
            }
        </ul>
    </mat-card-content>
    <mat-card-footer>
        <mat-card-actions>
            <button mat-stroked-button (click)="getMessage()" *ngIf="!body">Wczytaj treść</button>
            <button mat-stroked-button (click)="getRcpts()" *ngIf="!rcpts">Wczytaj odbiorców</button>
            <mat-spinner diameter="32" color="accent" *ngIf="loading"></mat-spinner>
        </mat-card-actions>
    </mat-card-footer>
</mat-card>